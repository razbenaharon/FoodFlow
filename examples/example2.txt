👋 Welcome to FoodFlow!
You are now simulating operations for 'HaSalon' restaurant in Tel Aviv, owned by chef Eyal Shani.
Our goal is to make smart, sustainable decisions about what to cook, sell, or donate among expiring ingredients.

For each expiring ingredient, the agent will determine the most suitable action:
- 🍽️ Cook: A message will be sent to the chef with today’s special based on this ingredient.
- 🍴 Sell: A message will be sent to a nearby restaurant most likely to purchase it.
- ❤️ Donate: A pickup will be scheduled with a nearby donation center.

===========================================================================

Press Enter to see the magic happen...

===========================================================================

📦 Current Inventory (excluding expiring):
- Eggplant: 12 unit
- Sea salt: 500 grams
- Parsley: 100 grams
- Heirloom tomatoes: 10 unit
- Garlic: 20 cloves
- Black pepper: 300 grams
- Shrimp: 2.5 kg
- Crushed tomato: 1.2 kg
- Chili: 10 unit
- White wine: 2 liters
- Cream: 2 liters
- Cauliflower: 6 unit
- Lemon: 10 unit
- Zucchini: 8 unit
- Rosemary: 50 grams
- Honey: 300 grams
- Sea bass: 5 fillet
- Leeks: 6 stalk
- Dill: 50 grams
- Beets: 5 unit
- Labneh: 500 grams
- Mushrooms: 1 kg
- Parmesan cheese: 500 grams
- Water: unlimited unit
- Salt: unlimited unit

⏳ Expiring Ingredients:
- Lamb chops: 1.56 kg (Expires in 3 days)
- Butter: 0.56 kg (Expires in 1 days)
- Freekeh: 1.42 kg (Expires in 3 days)
- Duck breast: 1.11 kg (Expires in 2 days)
- Yogurt: 213.51 grams (Expires in 2 days)
- Lemon zest: 1.51 unit (Expires in 4 days)
- Olive oil: 771.47 ml (Expires in 3 days)
- Basil: 17.76 grams (Expires in 4 days)
- Artichoke: 1.94 unit (Expires in 1 days)
- Mint: 34.07 grams (Expires in 4 days)

===========================================================================

🥣 choosing soup kitchen for today...

Best matching soup kitchen:
Name: המקרר הקהילתי בצפון דיזנגוף
Address: Dizengoff St 316, Tel Aviv-Yafo
Distance: 1.19 km

===========================================================================

🧑‍🍳 Running recipe recommendation agent...
Recipe agent       [██████████████████████████████] 100%

Best matching recipes:
1. Fire-Grilled Lamb Chops with Freekeh, Herb Yogurt, and Lemon Zest
   Matched expiring ingredients: Lamb chops, Butter, Freekeh, Yogurt, Lemon zest, Olive oil, Basil, Mint
   Inventory ingredients: Garlic, Rosemary, Sea salt, Black pepper, Parsley, Water
   Missing ingredients: none
   Reason: Fire-Grilled Lamb Chops with Freekeh, Herb Yogurt, and Lemon Zest embodies HaSalon's Israeli Mediterranean ethos, highlighting expiring lamb chops and freekeh.
2. Duck Breast with Artichokes, Basil Butter, and Roasted Heirloom Tomatoes
   Matched expiring ingredients: Butter, Duck breast, Olive oil, Basil, Artichoke
   Inventory ingredients: Heirloom tomatoes, Garlic, Chili, Sea salt
   Missing ingredients: none
   Reason: The duck breast with artichokes, basil butter, and roasted heirloom tomatoes highlights HaSalon's Mediterranean focus, using expiring basil and duck breast.
3. Charred Eggplant and Mint Labneh with Zucchini and Lemon Honey Vinaigrette
   Matched expiring ingredients: Lemon zest, Olive oil, Mint
   Inventory ingredients: Eggplant, Sea salt, Honey, Zucchini, Lemon, Labneh
   Missing ingredients: none
   Reason: The charred eggplant and mint labneh dish embodies HaSalon's Israeli Mediterranean ethos, highlighting fresh produce, live fire, and expiring lemon zest.

===========================================================================

🍽️ Running restaurant recommendation agent...

Best matching restaurants:
1. Rustico
   Matched ingredients: Butter, Olive oil, Basil
   Reason: Italian restaurant where butter, olive oil, and basil are commonly used. Very close (0.47km) and likely to appreciate fresh ingredients.
2. Hummus Abu Dabi, Tel Aviv
   Matched ingredients: Freekeh, Olive oil, Lemon zest, Yogurt
   Reason: Middle Eastern restaurant that can use freekeh, olive oil, lemon zest, and yogurt in traditional dishes. Close (1.26km) and a good match for the cuisine.
3. Chuma
   Matched ingredients: Lamb chops, Mint, Olive oil
   Reason: Mediterranean restaurant where lamb, mint, and olive oil are staples. Extremely close (0.42km) and a great fit for the ingredients.

===========================================================================

🧠 Running decision agent...
Sending request to LLM...
Received response from LLM

--- Final Decision Summary ---
COOK   (8 items):  Lamb chops, Butter, Freekeh, Yogurt, Lemon zest, Olive oil, Basil, Mint
  ↳ Recipe: Fire-Grilled Lamb Chops with Freekeh, Herb Yogurt, and Lemon Zest
  🧾 Reason (COOK): Highest coverage of expiring ingredients
SELL   (3 items):  Freekeh, Yogurt, Lemon zest
  ↳ Restaurant: Hummus Abu Dabi, Tel Aviv
  🧾 Reason (SELL): High demand and stable to transport
DONATE (1 items):  Artichoke
  ↳ Donation Center: המקרר הקהילתי בצפון דיזנגוף
  🧾 Reason (DONATE): Low demand and expires in 1 day
----------------------------

===========================================================================

🧑‍🍳 Sending selected recipe to kitchen...

================= SEND TO KITCHEN =================
👨‍🍳  Recipe: Fire-Grilled Lamb Chops with Freekeh, Herb Yogurt, and Lemon Zest
---------------------------------------------------
🧺  Ingredients:
  • Lamb chops
  • Butter
  • Freekeh
  • Yogurt
  • Lemon zest
  • Olive oil
  • Basil
  • Mint
  • Garlic
  • Rosemary
  • Sea salt
  • Black pepper
  • Parsley
  • Water
---------------------------------------------------
🧾  Chef Notes / Reason:
  Fire-Grilled Lamb Chops with Freekeh, Herb Yogurt, and Lemon Zest embodies HaSalon's Israeli Mediterranean ethos, highlighting expiring lamb chops and freekeh.
===================================================


===========================================================================

✉️ Preparing outbound messages...

====== Message to restaurant ======
 Hi Hummus Abu Dabi, this is HaSalon! We have some high-quality surplus ingredients available today that might interest you:

- **Freekeh**: 1.42 kg (expires in 3 days) - ₪25/kg → **₪35.50**
- **Yogurt**: 213.51 g (expires in 2 days) - ₪15/250g → **₪12.80**
- **Lemon zest**: 1.51 units (expires in 4 days) - ₪5/unit → **₪7.55**

**Bundle deal**: Take all for **₪50**.

Pickup is available today between 14:00-18:00. Please confirm at **052-1234567**. Looking forward to hearing from you!

====== Message to soup kitchen ======
 Hi, this is HaSalon! We have a same-day donation available for pickup:
- Artichoke: 1.94 unit, expires in 1 day

Pickup window: 15:00–18:00 today. Please contact us at 052-1234567. Thanks!

===========================================================================

📊 Checking if feedback agent should run -- asking for feedback only each 10 iterations of the agent...
ℹ️ Only 8 runs found. Need 10 to activate feedback agent.

✅ Simulation complete.
